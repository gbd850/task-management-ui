<div class="h-[100vh] overflow-x-hidden">
    <div class="relative flex flex-col w-full h-full text-gray-700 bg-white rounded-lg bg-clip-border">
        <table class="w-full text-left table-auto min-w-max text-slate-800">
        <thead>
            <tr class="text-slate-500 border-b border-slate-300 bg-slate-50">
                <th class="p-4" width="10%"></th>
                <th class="p-4">Name</th>
                <th class="p-4"></th>
                <th class="p-4"></th>
            </tr>
        </thead>
            <tbody class="text-lg font-medium">
                <tr>
                    <td></td>
                    <td></td>
                    <td class="flex items-center justify-end pt-4 font-normal">
                        <button class="btn btn-primary bg-green-600 px-5 py-3 rounded-lg text-white" [routerLink]="['addcategory']">Add category</button>
                    </td>
                </tr>
                @for (taskGroup of tasks; track $index) {
                    <tr>
                        <td class="p-4">
                            <p class="text-xl font-bold uppercase">{{ taskGroup.categoryName == '' ? 'uncategorized' : taskGroup.categoryName }}</p>
                        </td>
                    </tr>
                    @for (task of taskGroup.tasks; track $index) {
                        <tr class="bg-slate-100 border-y border-black">
                            <td class="p-4">
                                <input *ngIf="task.isResolved == true" (click)="resolveTask(task.id, false)" checked
                                    type="checkbox" value=""
                                    class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded" />
                                <input *ngIf="task.isResolved == false" (click)="resolveTask(task.id, true)" type="checkbox"
                                    value="" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded" />
                            </td>
                            <td *ngIf="task.isResolved == true" class="p-4 line-through text-gray-500">{{ task.name }}</td>
                            <td *ngIf="task.isResolved == false" class="p-4">{{ task.name }}</td>
                            <td class="p-4">
                                <button class="btn btn-primary bg-orange-400 px-5 py-3 rounded-lg text-white"
                                    [routerLink]="['edittask', task.id]">
                                    Edit
                                </button>
                            </td>
                            <td class="p-4">
                                <button class="btn btn-primary bg-red-600 px-5 py-3 rounded-lg text-white"
                                    (click)="deleteTask(task.id)">
                                    Delete
                                </button>
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
        <div class="flex items-center justify-between w-full p-4 text-lg">
            <button class="btn btn-primary bg-green-600 px-5 py-3 rounded-lg text-white" [routerLink]="['addtask']">Add task</button>
        </div>
    </div>
</div>